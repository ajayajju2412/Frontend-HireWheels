<!-- template driven form for signup -->


<div class="card m-auto" style="width: 70%;">

    <div class="card-header">
        <h3 class="text-center">
            Sign In
        </h3>
    </div>
    <div class="card-body">
            <form #signinForm="ngForm" (ngSubmit)="onSubmit(signinForm.value)">

                <div class="form-group row">
                    <label for="emailId" class="col-sm-3 col-form-label col-form-label-sm font-weight-bold">Email ID:</label>
                    <div class="col-sm-9">
                        <input type="email" class="form-control form-control-sm" id="emailId" 
                            name="emailId" [(ngModel)]="userEmail" required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" #emailId="ngModel"/>
                        <span class="invalid-feedback d-block" *ngIf="emailId.touched && emailId.invalid">
                            <span *ngIf="emailId.errors?.required">
                                Email id is required
                            </span>
                            <span *ngIf="emailId.errors?.pattern">
                                Enter a valid email address
                            </span>
                        </span>
                    </div>
                </div>

                <div class="form-group row">
                    <label for="password" class="col-sm-3 col-form-label col-form-label-sm font-weight-bold">Password:</label>
                    <div class="col-sm-9">
                        <input type="password" class="form-control form-control-sm" id="password" 
                            name="password" [(ngModel)]="userPassword" required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{5,}$" #password="ngModel"/>
                        <span class="invalid-feedback d-block" *ngIf="password.touched && password.invalid">
                            <span  *ngIf="password.errors?.required">
                                Password is required.
                            </span>
                            <span  *ngIf="password.errors?.pattern">
                                Password should have minimum 5 characters, at least 1 uppercase letter, 1 lowercase letter and 1 number.
                            </span>
                        </span>    
                    </div>
                </div>

                <div class="form-group text-center">
                    <button type="submit" class="btn btn-primary signin" [disabled]="!signinForm.valid">
                        Sign In
                    </button>
                </div>
                
            </form>
        </div>

</div>

<div class="d-flex flex-column align-items-center my-3">
    <div><a href="#" (click)="showModal()">Forgot Password</a></div>
    <div>
        <span>Donâ€™t have an account?</span>
        <a  [routerLink]="['/signup']"> Sign Up</a>
    </div>
</div>


<!-- Modal -->
<div *ngIf="isModalShown" [config]="{ show: true }" (onHidden)="onHidden()" bsModal #forgotPdModal="bs-modal"
     class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-auto-name" data-keyboard="false" data-backdrop="static">
  <div class="myModal modal-dialog modal-lg" >
    <div class="modal-content" >
      <div class="modal-header align-items-center" style="height: 40px;">
        <button type="button" class="close pull-right" aria-label="Close" (click)="hideModal()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <app-reset-password></app-reset-password>
      </div>
    </div>
  </div>
</div>


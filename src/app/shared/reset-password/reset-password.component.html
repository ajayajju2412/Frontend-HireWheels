<!-- template driven form for signup -->
<div class="card m-auto" style="width: 80%;">
    <div class="card-header">
        <h3 class="text-center">
            Reset Password
        </h3>
    </div>

    <div class="card-body">
        <form #resetPasswordForm="ngForm" (ngSubmit)="resetPassword()">

            <div class="form-group row">
                <label for="emailId" class="col-sm-3 col-form-label col-form-label-sm font-weight-bold">Email ID:</label>
                <div class="col-sm-9">
                    <input type="email" class="form-control form-control-sm" id="emailId" 
                        name="emailId" [(ngModel)]="rEmailId" required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" #emailId="ngModel"/>
                    <span class="invalid-feedback d-block" *ngIf="emailId.touched && emailId.invalid">
                        <span *ngIf="emailId.errors?.required">
                            Email id is required
                        </span>
                        <span *ngIf="emailId.errors?.pattern">
                            Enter a valid email address
                        </span>
                    </span>
                </div>
            </div>

            <div class="form-group row">
                <label for="mobileNumber" class="col-sm-3 col-form-label col-form-label-sm  font-weight-bold">Mobile number:</label>
                <div class="col-sm-9">
                    <input type="number" class="form-control form-control-sm" id="mobileNumber" 
                    name="mobileNumber" [(ngModel)]="rMobileNumber" required pattern="^((\\+91-?)|0)?[0-9]{10}$" #mobileNumber="ngModel"/>
                    <span *ngIf="mobileNumber.touched && mobileNumber.invalid">
                        <span class="invalid-feedback d-block" *ngIf="mobileNumber.errors?.required">
                            Mobile number is required.
                        </span>
                        <span class="invalid-feedback d-block" *ngIf="mobileNumber.errors?.pattern">
                            Mobile number must have 10 digits only and cannot start with 0.
                        </span>
                    </span>
                </div>
            </div>

            <div class="form-group row">
                <label for="password" class="col-sm-3 col-form-label col-form-label-sm font-weight-bold">Password:</label>
                <div class="col-sm-9">
                    <input type="password" class="form-control form-control-sm" id="password" 
                        name="password" [(ngModel)]="rPassword" required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{5,}$" #password="ngModel" />
                    <span class="invalid-feedback d-block" *ngIf="password.touched && password.invalid">
                        <span  *ngIf="password.errors?.required">
                            Password is required.
                        </span>
                        <span  *ngIf="password.errors?.pattern">
                            Password should have minimum 5 characters, at least 1 uppercase letter, 1 lowercase letter and 1 number.
                        </span>
                    </span>    
                </div>
            </div>

            <div class="form-group row">
                <label for="confirmPassword" class="col-sm-3 col-form-label col-form-label-sm font-weight-bold">Confirm Password:</label>
                <div class="col-sm-9">
                    <input type="password" class="form-control form-control-sm" id="confirmPassword"
                        name="confirmPassword" [(ngModel)]="rConfirmPassword" required appPasswordvalidator="password" #confirmPassword="ngModel"/>
                    <span class="invalid-feedback d-block" *ngIf="confirmPassword.touched && confirmPassword.invalid">
                        <span  *ngIf="confirmPassword.errors?.required">
                            Confirm password is required.
                        </span>
                        <span  *ngIf="confirmPassword.dirty && confirmPassword.errors?.passwordMatchError">
                            Password doesn't match
                        </span>
                    </span>    

                </div>
            </div>

            <div class="form-group text-center">
                <button type="submit" class="btn btn-primary resetPassword" [disabled]="!resetPasswordForm.valid">
                    Submit
                </button>
            </div>
        </form>
    </div>

</div>